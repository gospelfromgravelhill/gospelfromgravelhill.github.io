---
---

// Reset using Normalize
@import "normalize";

// Import fonts from Google
@import url(https://fonts.googleapis.com/css?family=Open+Sans:300,400,800);
@import url(https://fonts.googleapis.com/css?family=PT+Serif:400,700,400italic,700italic);

// Site configuration
@import "config";

// Import Partials
@import "partials/typography";
@import "partials/mixins";

// Modules
@import "modules/buttons";
@import "modules/forms";
@import "modules/tables";
@import "modules/syntax";
@import "modules/books";

// Mobile up base styles
@import "breakpoints/mobileup";

// Import media queries add more as you desire
@media only screen and (min-width: 800px) {
	@import "breakpoints/800up";
}
@media only screen and (min-width: 1200px) {
	@import "breakpoints/1200up";
}

// For Lightbox and book pages
@import "custom";

// If IE support is needed you can add them here or create another stylesheet for specific IE fixes


/* Search results tidy-up */
#results-container {
  margin-top: 1rem;
}
#results-container a {
  text-decoration: none;
}
#results-container a:hover {
  text-decoration: underline;
}


/* --- mobile menu icon overrides (mobile only) --- */
@media (max-width: 799px) {
  .nav-toggle {
    -webkit-tap-highlight-color: rgba(0,0,0,0);
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    -o-user-select: none;
    user-select: none;

    float: right;
    line-height: 1;
    margin-top: 0.5em;

    background: transparent;
    border-radius: 0;
    padding: 0;

    color: inherit;
    text-decoration: none;
    position: relative;
    right: 2rem;

    display: inline-flex;
    align-items: center;
    justify-content: center;

    &:hover { background: transparent; }

    svg { width: 28px; height: 28px; }
  }
}

/* --- hide mobile toggle on desktop --- */
@media (min-width: 800px) {
  .nav-toggle { display: none !important; }
}


/* --- pagination styles --- */
.pagination {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 1rem;   /* evenly spaced */
  margin-top: 1rem;
}

.pagination a {
  text-decoration: none;
}

/* --- Homepage Recent --- */
.home-recent { margin-top: 2rem; }
.home-recent__title { text-align: center; margin-bottom: .75rem; }
.home-recent__list {
  list-style: none; padding: 0; margin: 0;
  display: grid; gap: .5rem;
}
.home-recent__item {
  display: flex; flex-wrap: wrap; gap: .5rem;
  justify-content: center; text-align: center;
}
.home-recent__item a { text-decoration: none; }
.home-recent__item time { opacity: .7; }
.home-recent__cat { opacity: .7; }
.home-recent__more { text-align: center; margin-top: .75rem; }
.home-recent__more a { text-decoration: none; }



/* --- Recent Posts: mobile tidy-up --- */
@media (max-width: 600px) {
  .home-recent__item {
    flex-direction: column;
    align-items: center;
    text-align: center;
    gap: 0.25rem; /* smaller gap between title and meta */
  }

  /* clamp long titles */
  .home-recent__item a {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    max-width: 100%;
    word-break: break-word;
    overflow-wrap: anywhere;
    hyphens: auto;
  }

  /* wrap date + category together on one line */
  .home-recent__item time,
  .home-recent__cat {
    display: inline;         /* force them inline */
    font-size: 0.9rem;
    opacity: 0.75;
    margin: 0;
  }

  /* add divider between date and category if both exist */
  .home-recent__cat::before {
    content: " • ";
    opacity: 0.6;
  }
}

/* --- Recent Page --- */
.meta {
  display: flex;
  flex-wrap: wrap;
  gap: .5rem;
  align-items: baseline;
}
.meta .cats { display: inline-flex; flex-wrap: wrap; gap: .25rem; }
.cat {
  display: inline-block;
  border: 1px solid rgba(0,0,0,.2);
  padding: 0 .45em;
  border-radius: 999px;
  font-size: .875rem;
  line-height: 1.6;
  opacity: .9;
}
.cat--primary {
  text-decoration: none;
}


/* --- Fix Recent Posts meta line (mobile only) --- */
@media (max-width: 600px) {
  .home-recent__item time,
  .home-recent__item .home-recent__cat {
    display: inline;       /* force them onto the same line */
    font-size: 0.9rem;
    opacity: 0.75;
    margin: 0;
  }

  .home-recent__item .home-recent__cat::before {
    content: " • ";
    opacity: 0.6;
  }
}


/* --- Recent Posts (mobile): title first line, date+category on second line --- */
@media (max-width: 600px) {
  .home-recent__item {
    display: grid;                  /* overrides earlier flex */
    grid-template-columns: auto auto;
    column-gap: .5rem;
    row-gap: .25rem;
    justify-content: center;
    text-align: center;
  }

  /* Title spans full width on first row, keep 2-line clamp */
  .home-recent__item > a {
    grid-column: 1 / -1;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    max-width: 100%;
    word-break: break-word;
    overflow-wrap: anywhere;
    hyphens: auto;
  }

  /* Date + category side-by-side on second row */
  .home-recent__item > time,
  .home-recent__item > .home-recent__cat {
    margin: 0;
    font-size: 0.9rem;
    opacity: 0.75;
    justify-self: center;
  }

  /* Dot between them */
  .home-recent__item > .home-recent__cat::before {
    content: " • ";
    opacity: 0.6;
  }
}


/* === Mobile sticky header only === */
@media (max-width: 768px) {

  /* Adjust the selector to match your header element.
     Long Haul typically uses .site-header containing the title + nav. */
  .site-header {
    position: sticky;
    top: 0;
    z-index: 1000;            /* keeps it above content */
    background: #fff;         /* solid background so content doesn’t show through */
    /* Optional niceties */
    /* box-shadow: 0 2px 8px rgba(0,0,0,.06); */
    /* backdrop-filter: saturate(180%) blur(6px);  // if you prefer a translucent look */
  }

  /* If your nav is separate and you want it sticky too, uncomment:
  .site-nav {
    position: sticky;
    top: 0;
    z-index: 1000;
    background: #fff;
  }
  */

  /* Helpful if you use anchor links (#section) so the sticky header doesn’t cover them */
  main :is(h1, h2, h3, h4, h5, h6),
  .post :is(h1, h2, h3, h4, h5, h6),
  .page :is(h1, h2, h3, h4, h5, h6) {
    scroll-margin-top: 72px; /* roughly your mobile header height */
  }
}
